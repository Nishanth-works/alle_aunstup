{
  "last_node_id": 1748,
  "last_link_id": 1276,
  "nodes": [
    {
      "id": 1247,
      "type": "SetNode",
      "pos": [
        -3490.443433738214,
        -1135.806207123052
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 91,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 1017
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "slot_index": 0
        }
      ],
      "title": "Set_HiresImage",
      "properties": {
        "previousName": "HiresImage"
      },
      "widgets_values": [
        "HiresImage"
      ]
    },
    {
      "id": 1263,
      "type": "GetNode",
      "pos": [
        -3650,
        1210
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1036
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_refinerClip",
      "properties": {},
      "widgets_values": [
        "refinerClip"
      ]
    },
    {
      "id": 1262,
      "type": "GetNode",
      "pos": [
        -3640,
        1070
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1034
          ]
        }
      ],
      "title": "Get_refinerModel",
      "properties": {},
      "widgets_values": [
        "refinerModel"
      ]
    },
    {
      "id": 1199,
      "type": "MaskToImage",
      "pos": [
        -3540.443433738214,
        -1395.8062071230524
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 90,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 1054,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            939
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      }
    },
    {
      "id": 1206,
      "type": "ImageInvert",
      "pos": [
        -3530.443433738214,
        -1295.8062071230522
      ],
      "size": {
        "0": 149.19442749023438,
        "1": 26
      },
      "flags": {},
      "order": 101,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 939
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1055
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageInvert"
      }
    },
    {
      "id": 1276,
      "type": "SetNode",
      "pos": [
        -3290.443433738214,
        -1295.8062071230522
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 106,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 1055
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_HiresMask",
      "properties": {
        "previousName": "HiresMask"
      },
      "widgets_values": [
        "HiresMask"
      ]
    },
    {
      "id": 1271,
      "type": "SetNode",
      "pos": [
        -3079.012249201306,
        427.608674113341
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 85,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "link": 1042
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_checkpointClip",
      "properties": {
        "previousName": "checkpointClip"
      },
      "widgets_values": [
        "checkpointClip"
      ]
    },
    {
      "id": 1270,
      "type": "SetNode",
      "pos": [
        -3086.012249201306,
        381.608674113341
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 84,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 1041
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_checkpointModel",
      "properties": {
        "previousName": "checkpointModel"
      },
      "widgets_values": [
        "checkpointModel"
      ]
    },
    {
      "id": 1272,
      "type": "SetNode",
      "pos": [
        -3083.012249201306,
        481.60867411334095
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 86,
      "mode": 0,
      "inputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "link": 1043
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_checkpointVAE",
      "properties": {
        "previousName": "checkpointVAE"
      },
      "widgets_values": [
        "checkpointVAE"
      ]
    },
    {
      "id": 1159,
      "type": "ProfileNode",
      "pos": [
        -3143.012249201306,
        538.6086741133412
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {
        "collapsed": true
      },
      "order": 83,
      "mode": 0,
      "inputs": [
        {
          "name": "any_input",
          "type": "*",
          "link": 869
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ProfileNode"
      },
      "widgets_values": [
        "Checkpoint loaded:"
      ]
    },
    {
      "id": 1260,
      "type": "SetNode",
      "pos": [
        -3014.5947929575505,
        991.5254668566379
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 69,
      "mode": 0,
      "inputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "link": 1032
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_refinerVAE",
      "properties": {
        "previousName": "refinerVAE"
      },
      "widgets_values": [
        "refinerVAE"
      ]
    },
    {
      "id": 1259,
      "type": "SetNode",
      "pos": [
        -3014.5947929575505,
        931.525466856638
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "link": 1031
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_refinerClip",
      "properties": {
        "previousName": "refinerClip"
      },
      "widgets_values": [
        "refinerClip"
      ]
    },
    {
      "id": 1258,
      "type": "SetNode",
      "pos": [
        -3034.5947929575505,
        881.5254668566382
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 67,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 1030
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_refinerModel",
      "properties": {
        "previousName": "refinerModel"
      },
      "widgets_values": [
        "refinerModel"
      ]
    },
    {
      "id": 1288,
      "type": "SetNode",
      "pos": [
        -3130,
        1980
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "link": 1069
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_sam_model",
      "properties": {
        "previousName": "sam_model"
      },
      "widgets_values": [
        "sam_model"
      ]
    },
    {
      "id": 1290,
      "type": "SetNode",
      "pos": [
        -3110,
        2130
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "name": "GROUNDING_DINO_MODEL",
          "type": "GROUNDING_DINO_MODEL",
          "link": 1071
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_groundingDinoModel",
      "properties": {
        "previousName": "groundingDinoModel"
      },
      "widgets_values": [
        "groundingDinoModel"
      ]
    },
    {
      "id": 252,
      "type": "GroundingDinoModelLoader (segment anything)",
      "pos": [
        -3560,
        2130
      ],
      "size": {
        "0": 361.20001220703125,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "GROUNDING_DINO_MODEL",
          "type": "GROUNDING_DINO_MODEL",
          "links": [
            1071
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoModelLoader (segment anything)"
      },
      "widgets_values": [
        "GroundingDINO_SwinB (938MB)"
      ]
    },
    {
      "id": 1292,
      "type": "SetNode",
      "pos": [
        -3120,
        2280
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 72,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIPSEG_MODEL",
          "type": "CLIPSEG_MODEL",
          "link": 1075
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_clipSegModel",
      "properties": {
        "previousName": "clipSegModel"
      },
      "widgets_values": [
        "clipSegModel"
      ]
    },
    {
      "id": 254,
      "type": "SAMLoader",
      "pos": [
        -3550,
        1960
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {
        "collapsed": false
      },
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            1069
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ]
    },
    {
      "id": 1300,
      "type": "SetNode",
      "pos": [
        -2850,
        1090
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 94,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 1086
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_refinerLoraModel",
      "properties": {
        "previousName": "refinerLoraModel"
      },
      "widgets_values": [
        "refinerLoraModel"
      ]
    },
    {
      "id": 1301,
      "type": "SetNode",
      "pos": [
        -2840,
        1210
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 95,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "link": 1087
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_refinerLoraClip",
      "properties": {
        "previousName": "refinerLoraClip"
      },
      "widgets_values": [
        "refinerLoraClip"
      ]
    },
    {
      "id": 26,
      "type": "ControlNetLoader",
      "pos": [
        -3650,
        1430
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "pinned": false
      },
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            1065
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "Load Canny Model",
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "sai_xl_canny_256lora.safetensors"
      ]
    },
    {
      "id": 1306,
      "type": "SetNode",
      "pos": [
        -3063.7849269431817,
        2448.012190696696
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 89,
      "mode": 0,
      "inputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "link": 1092
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_upscalerModel",
      "properties": {
        "previousName": "upscalerModel"
      },
      "widgets_values": [
        "upscalerModel"
      ]
    },
    {
      "id": 1284,
      "type": "SetNode",
      "pos": [
        -3287,
        1369
      ],
      "size": {
        "0": 218.39999389648438,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "link": 1065
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_cannyModel(controlnet)",
      "properties": {
        "previousName": "cannyModel(controlnet)"
      },
      "widgets_values": [
        "cannyModel(controlnet)"
      ]
    },
    {
      "id": 272,
      "type": "ControlNetLoader",
      "pos": [
        -3062,
        1480
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            1067
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "Load Depth Model",
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "diffusers_xl_depth_full.safetensors"
      ]
    },
    {
      "id": 296,
      "type": "ControlNetLoader",
      "pos": [
        -3678,
        1678
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            1083
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "Load Softedge Model",
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "OpenPoseXL2.safetensors"
      ]
    },
    {
      "id": 1298,
      "type": "SetNode",
      "pos": [
        -3334,
        1604
      ],
      "size": {
        "0": 243.60000610351562,
        "1": 58
      },
      "flags": {},
      "order": 65,
      "mode": 0,
      "inputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "link": 1083
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_softEdgeModel(controlnet)",
      "properties": {
        "previousName": "softEdgeModel(controlnet)"
      },
      "widgets_values": [
        "softEdgeModel(controlnet)"
      ]
    },
    {
      "id": 1308,
      "type": "SetNode",
      "pos": [
        -2731,
        1607
      ],
      "size": {
        "0": 226.8000030517578,
        "1": 58
      },
      "flags": {},
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "link": 1096
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_tilingModel(controlnet)",
      "properties": {
        "previousName": "tilingModel(controlnet)"
      },
      "widgets_values": [
        "tilingModel(controlnet)"
      ]
    },
    {
      "id": 1230,
      "type": "ControlNetLoader",
      "pos": [
        -3066,
        1694
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            1096
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11f1e_sd15_tile.pth"
      ]
    },
    {
      "id": 1337,
      "type": "Note",
      "pos": [
        -4118.443433738214,
        -1094.8062071230522
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "High res image\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1338,
      "type": "Note",
      "pos": [
        -4116.443433738214,
        -1476.8062071230524
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "High res mask"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1345,
      "type": "SetNode",
      "pos": [
        -2304.5586017687287,
        -1104.5272598854083
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 88,
      "mode": 0,
      "inputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "link": 1118
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_cfgScale",
      "properties": {
        "previousName": "cfgScale"
      },
      "widgets_values": [
        "cfgScale"
      ]
    },
    {
      "id": 1350,
      "type": "SetNode",
      "pos": [
        -2230,
        -900
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 71,
      "mode": 0,
      "inputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "link": 1122
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_upscaler_denoise",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "upscaler_denoise"
      ]
    },
    {
      "id": 1274,
      "type": "GetNode",
      "pos": [
        -3681,
        532
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1051
          ]
        }
      ],
      "title": "Get_checkpointModel",
      "properties": {},
      "widgets_values": [
        "checkpointModel"
      ]
    },
    {
      "id": 1275,
      "type": "GetNode",
      "pos": [
        -3682,
        580
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 11,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1052
          ]
        }
      ],
      "title": "Get_checkpointClip",
      "properties": {},
      "widgets_values": [
        "checkpointClip"
      ]
    },
    {
      "id": 1221,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -3555,
        891
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1030
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1031
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            1032
          ],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "title": "Load Refiner Checkpoint",
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "realisticVisionV60B1_v51VAE.safetensors"
      ]
    },
    {
      "id": 1359,
      "type": "Float",
      "pos": [
        -3799,
        653
      ],
      "size": {
        "0": 344.3999938964844,
        "1": 58
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "outputs": [
        {
          "name": "value",
          "type": "FLOAT",
          "links": [
            1130
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"value\": \"customLora.UNETStrength\"}",
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        0.5
      ]
    },
    {
      "id": 1360,
      "type": "Float",
      "pos": [
        -3797,
        759
      ],
      "size": {
        "0": 344.3999938964844,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 14,
      "mode": 0,
      "outputs": [
        {
          "name": "value",
          "type": "FLOAT",
          "links": [
            1131
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"value\": \"customLora.TEStrength\"}",
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        0.5
      ]
    },
    {
      "id": 1343,
      "type": "SetNode",
      "pos": [
        -2324.5586017687287,
        -1254.5272598854074
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 87,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 1148
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_steps",
      "properties": {
        "previousName": "steps"
      },
      "widgets_values": [
        "steps"
      ]
    },
    {
      "id": 1232,
      "type": "Note",
      "pos": [
        -3175,
        -1573
      ],
      "size": {
        "0": 269.10296630859375,
        "1": 157.44366455078125
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Load 2k images; Both the image and the mask are downscaled by 1/2 for the inpainting.\nLoad Mask must be RGBA image, alpha values are considered as the mask.\nHighres image and mask are passed to upscaler."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1349,
      "type": "Float",
      "pos": [
        -2650,
        -910
      ],
      "size": {
        "0": 369.6000061035156,
        "1": 58
      },
      "flags": {
        "pinned": false,
        "collapsed": false
      },
      "order": 16,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1122
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"value\": \"denoisingStrength\"}",
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        0.2
      ]
    },
    {
      "id": 218,
      "type": "CLIPSeg Model Loader",
      "pos": [
        -3550,
        2290
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 17,
      "mode": 0,
      "outputs": [
        {
          "name": "clipseg_model",
          "type": "CLIPSEG_MODEL",
          "links": [
            1075
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPSeg Model Loader"
      },
      "widgets_values": [
        "CIDAS/clipseg-rd64-refined"
      ]
    },
    {
      "id": 1334,
      "type": "SetNode",
      "pos": [
        -2310,
        -1435
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 81,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 1147
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_seed",
      "properties": {
        "previousName": "seed"
      },
      "widgets_values": [
        "seed"
      ]
    },
    {
      "id": 1450,
      "type": "IPAdapterModelLoader",
      "pos": [
        -3574.1791388798274,
        3507.5796668682924
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 18,
      "mode": 0,
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterModelLoader"
      },
      "widgets_values": [
        "ip-adapter_sdxl_vit-h.bin"
      ]
    },
    {
      "id": 1454,
      "type": "CLIPVisionLoader",
      "pos": [
        -3574.127205464169,
        3637.6860240680785
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 19,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader"
      },
      "widgets_values": [
        "ViT-H.safetensors"
      ]
    },
    {
      "id": 1241,
      "type": "Note",
      "pos": [
        -1590,
        2007
      ],
      "size": {
        "0": 269.10296630859375,
        "1": 157.44366455078125
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Tiling controlnet makes it possible to use higher denoising strength."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1340,
      "type": "Note",
      "pos": [
        -526.0020751953125,
        1215.0003356933594
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Ultimate SD Upscale "
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1351,
      "type": "GetNode",
      "pos": [
        -1189,
        1649
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 22,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1157
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_upscaler_denoise",
      "properties": {},
      "widgets_values": [
        "upscaler_denoise"
      ]
    },
    {
      "id": 1222,
      "type": "LoraLoader",
      "pos": [
        -3350,
        1130
      ],
      "size": {
        "0": 315,
        "1": 126
      },
      "flags": {},
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1034,
          "slot_index": 0
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1036,
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1086
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1087
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoraLoader"
      },
      "widgets_values": [
        "detail_tweaker_1_5.safetensors",
        0.7000000000000001,
        0.7000000000000001
      ]
    },
    {
      "id": 1462,
      "type": "Float",
      "pos": [
        -2635.1476940735156,
        -807.6805897598572
      ],
      "size": {
        "0": 302.3999938964844,
        "1": 58
      },
      "flags": {
        "pinned": false
      },
      "order": 23,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1175
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"value\": \"upscaleBy\"}",
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        2
      ]
    },
    {
      "id": 1463,
      "type": "SetNode",
      "pos": [
        -2194.811679180908,
        -807.9452541887401
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 73,
      "mode": 0,
      "inputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "link": 1175
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_upscale_by",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "upscale_by"
      ]
    },
    {
      "id": 1464,
      "type": "GetNode",
      "pos": [
        -872,
        1667
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 24,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1176
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_upscale_by",
      "properties": {},
      "widgets_values": [
        "upscale_by"
      ]
    },
    {
      "id": 1620,
      "type": "IPAdapterModelLoader",
      "pos": [
        -3175.276965896262,
        3478.2276443853257
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 25,
      "mode": 0,
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterModelLoader"
      },
      "widgets_values": [
        "ip-adapter-faceid-plusv2_sdxl.bin"
      ]
    },
    {
      "id": 1621,
      "type": "IPAdapterModelLoader",
      "pos": [
        -3177.276965896262,
        3598.2276443853257
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 26,
      "mode": 0,
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterModelLoader"
      },
      "widgets_values": [
        "ip-adapter-plus-face_sdxl_vit-h.bin"
      ]
    },
    {
      "id": 1622,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -3176.276965896262,
        3705.2276443853257
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "ip-adapter-faceid-plusv2_sdxl_lora.safetensors",
        0.65
      ]
    },
    {
      "id": 1633,
      "type": "GetNode",
      "pos": [
        -949,
        1508
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 28,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1180
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ]
    },
    {
      "id": 1632,
      "type": "GetNode",
      "pos": [
        -942,
        1455
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 29,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1179
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ]
    },
    {
      "id": 1634,
      "type": "GetImageSize+",
      "pos": [
        -3510,
        -970
      ],
      "size": {
        "0": 211.5320587158203,
        "1": 66
      },
      "flags": {},
      "order": 92,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1183
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            1181
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            1182
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "count",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSize+"
      }
    },
    {
      "id": 1628,
      "type": "SetNode",
      "pos": [
        -2730,
        -652
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 107,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 1186
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_width",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "width"
      ]
    },
    {
      "id": 1635,
      "type": "SimpleMath+",
      "pos": [
        -3212,
        -713
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 102,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "type": "INT,FLOAT",
          "link": 1181
        },
        {
          "name": "b",
          "type": "INT,FLOAT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1186
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SimpleMath+"
      },
      "widgets_values": [
        "a/2"
      ]
    },
    {
      "id": 1629,
      "type": "SetNode",
      "pos": [
        -2750,
        -496
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 108,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 1184
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_height",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "height"
      ]
    },
    {
      "id": 1636,
      "type": "SimpleMath+",
      "pos": [
        -3231,
        -522
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 103,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "type": "INT,FLOAT",
          "link": 1182
        },
        {
          "name": "b",
          "type": "INT,FLOAT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1184
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SimpleMath+"
      },
      "widgets_values": [
        "a/2"
      ]
    },
    {
      "id": 1137,
      "type": "SaveImage",
      "pos": [
        3389,
        1195
      ],
      "size": {
        "0": 315,
        "1": 270.0000305175781
      },
      "flags": {},
      "order": 121,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 1027
        }
      ],
      "title": "$map:{\"saveImage\": true}",
      "properties": {},
      "widgets_values": [
        "instantRegularUpscale"
      ]
    },
    {
      "id": 1456,
      "type": "GetNode",
      "pos": [
        -660,
        1349
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 30,
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            1162,
            1193
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_checkpointVAE",
      "properties": {},
      "widgets_values": [
        "checkpointVAE"
      ]
    },
    {
      "id": 1348,
      "type": "GetNode",
      "pos": [
        -1026,
        1568
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 31,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1158,
            1194
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_cfgScale",
      "properties": {},
      "widgets_values": [
        "cfgScale"
      ]
    },
    {
      "id": 1339,
      "type": "GetNode",
      "pos": [
        -752,
        1539
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 32,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1160
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_seed",
      "properties": {},
      "widgets_values": [
        "seed"
      ]
    },
    {
      "id": 1362,
      "type": "GetNode",
      "pos": [
        -892,
        1396
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 33,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1159,
            1195
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_steps",
      "properties": {},
      "widgets_values": [
        "steps"
      ]
    },
    {
      "id": 1295,
      "type": "SetNode",
      "pos": [
        -2881,
        715
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 97,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "link": 1078
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_offsetLoraClip",
      "properties": {
        "previousName": "offsetLoraClip"
      },
      "widgets_values": [
        "offsetLoraClip"
      ]
    },
    {
      "id": 1294,
      "type": "SetNode",
      "pos": [
        -2856,
        584
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 96,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 1077
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_offsetLoraModel",
      "properties": {
        "previousName": "offsetLoraModel"
      },
      "widgets_values": [
        "offsetLoraModel"
      ]
    },
    {
      "id": 454,
      "type": "CR Load LoRA",
      "pos": [
        -3444,
        585
      ],
      "size": {
        "0": 546,
        "1": 170
      },
      "flags": {
        "pinned": false
      },
      "order": 70,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1051,
          "slot_index": 0
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1052,
          "slot_index": 1
        },
        {
          "name": "strength_model",
          "type": "FLOAT",
          "link": 1130,
          "widget": {
            "name": "strength_model"
          }
        },
        {
          "name": "strength_clip",
          "type": "FLOAT",
          "link": 1131,
          "widget": {
            "name": "strength_clip"
          }
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1077
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1078
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "title": "$map:{\"lora_name\":\"customLora.id\",\"switch\": \"customLora.enabled\"}",
      "properties": {
        "Node name for S&R": "CR Load LoRA"
      },
      "widgets_values": [
        "Off",
        "xl_real_beta1.safetensors",
        0.5,
        0.5
      ]
    },
    {
      "id": 1457,
      "type": "GetNode",
      "pos": [
        -1581,
        1704
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1164,
            1165,
            1174,
            1196
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_offsetLoraClip",
      "properties": {},
      "widgets_values": [
        "offsetLoraClip"
      ]
    },
    {
      "id": 1638,
      "type": "GetNode",
      "pos": [
        812,
        1067
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 35,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            1190
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_sam_model",
      "properties": {},
      "widgets_values": [
        "sam_model"
      ]
    },
    {
      "id": 1252,
      "type": "GetNode",
      "pos": [
        1930,
        1432
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 36,
      "mode": 0,
      "outputs": [
        {
          "name": "FACERESTORE_MODEL",
          "type": "FACERESTORE_MODEL",
          "links": [
            1134
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_faceRestoreModel",
      "properties": {},
      "widgets_values": [
        "faceRestoreModel"
      ]
    },
    {
      "id": 1127,
      "type": "FaceRestoreCFWithModel",
      "pos": [
        2140,
        1547
      ],
      "size": {
        "0": 243.60000610351562,
        "1": 126
      },
      "flags": {
        "pinned": false
      },
      "order": 117,
      "mode": 0,
      "inputs": [
        {
          "name": "facerestore_model",
          "type": "FACERESTORE_MODEL",
          "link": 1134,
          "slot_index": 0
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1231
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1201
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FaceRestoreCFWithModel"
      },
      "widgets_values": [
        "YOLOv5l",
        0.8
      ]
    },
    {
      "id": 1644,
      "type": "Bool",
      "pos": [
        1995,
        1220
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 37,
      "mode": 0,
      "outputs": [
        {
          "name": "BOOLEAN",
          "type": "BOOLEAN",
          "links": [
            1204
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"value\":\"facefix\"}",
      "properties": {
        "Node name for S&R": "Bool"
      },
      "widgets_values": [
        true
      ]
    },
    {
      "id": 1641,
      "type": "CR Set Value On Boolean",
      "pos": [
        2404,
        1203
      ],
      "size": {
        "0": 315,
        "1": 146
      },
      "flags": {},
      "order": 77,
      "mode": 0,
      "inputs": [
        {
          "name": "boolean",
          "type": "BOOLEAN",
          "link": 1204,
          "widget": {
            "name": "boolean"
          }
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1200
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Set Value On Boolean"
      },
      "widgets_values": [
        true,
        1,
        2
      ]
    },
    {
      "id": 1661,
      "type": "IPAdapterInsightFaceLoader",
      "pos": [
        -2759,
        3298
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 38,
      "mode": 0,
      "outputs": [
        {
          "name": "INSIGHTFACE",
          "type": "INSIGHTFACE",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterInsightFaceLoader"
      },
      "widgets_values": [
        "CPU"
      ]
    },
    {
      "id": 1461,
      "type": "ConditioningConcat",
      "pos": [
        -590,
        1682
      ],
      "size": {
        "0": 253.60000610351562,
        "1": 46
      },
      "flags": {},
      "order": 98,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning_to",
          "type": "CONDITIONING",
          "link": 1206
        },
        {
          "name": "conditioning_from",
          "type": "CONDITIONING",
          "link": 1171
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            1173
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ConditioningConcat"
      }
    },
    {
      "id": 1663,
      "type": "GetNode",
      "pos": [
        733,
        1011
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 39,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            1208
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_bbox_detector",
      "properties": {},
      "widgets_values": [
        "bbox_detector"
      ]
    },
    {
      "id": 1639,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        -3670,
        2613
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {
        "collapsed": false
      },
      "order": 40,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            1207
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8n_v2.pt"
      ]
    },
    {
      "id": 1662,
      "type": "SetNode",
      "pos": [
        -3322,
        2600
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 78,
      "mode": 0,
      "inputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "link": 1207
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_bbox_detector",
      "properties": {
        "previousName": "bbox_detector"
      },
      "widgets_values": [
        "bbox_detector"
      ]
    },
    {
      "id": 1253,
      "type": "SetNode",
      "pos": [
        -2738,
        2601
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 79,
      "mode": 0,
      "inputs": [
        {
          "name": "FACERESTORE_MODEL",
          "type": "FACERESTORE_MODEL",
          "link": 1024
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_faceRestoreModel",
      "properties": {
        "previousName": "faceRestoreModel"
      },
      "widgets_values": [
        "faceRestoreModel"
      ]
    },
    {
      "id": 285,
      "type": "FaceRestoreModelLoader",
      "pos": [
        -3085,
        2677
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 41,
      "mode": 0,
      "outputs": [
        {
          "name": "FACERESTORE_MODEL",
          "type": "FACERESTORE_MODEL",
          "links": [
            1024
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FaceRestoreModelLoader"
      },
      "widgets_values": [
        "codeformer.pth"
      ]
    },
    {
      "id": 1305,
      "type": "GetNode",
      "pos": [
        -987,
        1031
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 42,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1210
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_offsetLoraModel",
      "properties": {},
      "widgets_values": [
        "offsetLoraModel"
      ]
    },
    {
      "id": 1363,
      "type": "Seed",
      "pos": [
        -2620,
        -1483
      ],
      "size": {
        "0": 210,
        "1": 142
      },
      "flags": {},
      "order": 43,
      "mode": 0,
      "outputs": [
        {
          "name": "seed",
          "type": "SEED",
          "links": null,
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "number",
          "type": "NUMBER",
          "links": null,
          "shape": 3
        },
        {
          "name": "float",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        },
        {
          "name": "int",
          "type": "INT",
          "links": [
            1147
          ],
          "shape": 3,
          "slot_index": 3
        }
      ],
      "title": "$map:{\"seed\":\"seed\"}",
      "properties": {
        "Node name for S&R": "Seed"
      },
      "widgets_values": [
        287971223141346,
        "fixed"
      ]
    },
    {
      "id": 1455,
      "type": "UltimateSDUpscale",
      "pos": [
        -277,
        1399
      ],
      "size": {
        "0": 512.4000244140625,
        "1": 778
      },
      "flags": {},
      "order": 105,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1169
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 1276
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 1173
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 1167
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 1162
        },
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 1161
        },
        {
          "name": "tile_width",
          "type": "INT",
          "link": 1179,
          "widget": {
            "name": "tile_width"
          },
          "slot_index": 6
        },
        {
          "name": "tile_height",
          "type": "INT",
          "link": 1180,
          "widget": {
            "name": "tile_height"
          }
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 1160,
          "widget": {
            "name": "seed"
          }
        },
        {
          "name": "cfg",
          "type": "FLOAT",
          "link": 1158,
          "widget": {
            "name": "cfg"
          }
        },
        {
          "name": "denoise",
          "type": "FLOAT",
          "link": 1157,
          "widget": {
            "name": "denoise"
          }
        },
        {
          "name": "steps",
          "type": "INT",
          "link": 1159,
          "widget": {
            "name": "steps"
          }
        },
        {
          "name": "upscale_by",
          "type": "FLOAT",
          "link": 1176,
          "widget": {
            "name": "upscale_by"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1229
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"sampler_name\":\"sampler.name\",\"scheduler\": \"scheduler\"}",
      "properties": {
        "Node name for S&R": "UltimateSDUpscale"
      },
      "widgets_values": [
        2,
        401165367069917,
        "randomize",
        20,
        8,
        "dpmpp_sde",
        "normal",
        0.2,
        "Linear",
        512,
        512,
        32,
        256,
        "None",
        1,
        64,
        8,
        16,
        true,
        false
      ]
    },
    {
      "id": 1637,
      "type": "FaceDetailer",
      "pos": [
        1057,
        877
      ],
      "size": {
        "0": 588,
        "1": 1100
      },
      "flags": {},
      "order": 111,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1229
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 1213
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1196
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 1193
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 1205
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 1192
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 1208,
          "slot_index": 6
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 1190
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": null
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null
        },
        {
          "name": "steps",
          "type": "INT",
          "link": 1195,
          "widget": {
            "name": "steps"
          }
        },
        {
          "name": "cfg",
          "type": "FLOAT",
          "link": 1194,
          "widget": {
            "name": "cfg"
          }
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 1198,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            1230
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": null,
          "shape": 6
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": null,
          "shape": 6
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6
        }
      ],
      "title": "$map:{\"sampler_name\":\"sampler.name\", \"denoise\":\"facedetailer.denoise\"}",
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        384,
        true,
        1024,
        920931450380741,
        "randomize",
        20,
        8,
        "dpmpp_sde_gpu",
        "normal",
        0.25,
        5,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        0
      ]
    },
    {
      "id": 1147,
      "type": "Reroute",
      "pos": [
        2468,
        547
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 82,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 1020
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            852
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 1249,
      "type": "GetNode",
      "pos": [
        2040,
        569
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 44,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1020
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_HiresImage",
      "properties": {},
      "widgets_values": [
        "HiresImage"
      ]
    },
    {
      "id": 1642,
      "type": "CR Image Input Switch",
      "pos": [
        2513,
        1559
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 119,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 1201
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 1232
        },
        {
          "name": "Input",
          "type": "INT",
          "link": 1200,
          "widget": {
            "name": "Input"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1203
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Image Input Switch"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 1640,
      "type": "Seed",
      "pos": [
        692,
        1219
      ],
      "size": {
        "0": 268.79998779296875,
        "1": 142
      },
      "flags": {
        "collapsed": false
      },
      "order": 45,
      "mode": 0,
      "outputs": [
        {
          "name": "seed",
          "type": "SEED",
          "links": null,
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "number",
          "type": "NUMBER",
          "links": null,
          "shape": 3
        },
        {
          "name": "float",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        },
        {
          "name": "int",
          "type": "INT",
          "links": [
            1198
          ],
          "shape": 3,
          "slot_index": 3
        }
      ],
      "title": "$map:{\"seed\":\"faceDetailerSeed\"}",
      "properties": {
        "Node name for S&R": "Seed"
      },
      "widgets_values": [
        1059874990175059,
        "fixed"
      ]
    },
    {
      "id": 1255,
      "type": "ImageCASharpening+",
      "pos": [
        2806,
        1465
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 120,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1203
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1027
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCASharpening+"
      },
      "widgets_values": [
        0.15
      ]
    },
    {
      "id": 1286,
      "type": "SetNode",
      "pos": [
        -2704,
        1418
      ],
      "size": {
        "0": 218.39999389648438,
        "1": 58
      },
      "flags": {},
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "link": 1067
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_depthModel(controlnet)",
      "properties": {
        "previousName": "depthModel(controlnet)"
      },
      "widgets_values": [
        "depthModel(controlnet)"
      ]
    },
    {
      "id": 1728,
      "type": "DepthAnythingPreprocessor",
      "pos": [
        -627,
        3009
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 109,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1262
        },
        {
          "name": "resolution",
          "type": "INT",
          "link": 1272,
          "widget": {
            "name": "resolution"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1263
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthAnythingPreprocessor"
      },
      "widgets_values": [
        "depth_anything_vitl14.pth",
        512
      ]
    },
    {
      "id": 1669,
      "type": "Image Resize",
      "pos": [
        22,
        2981
      ],
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 112,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1263
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1219
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Image Resize"
      },
      "widgets_values": [
        "rescale",
        "true",
        "lanczos",
        2,
        1024,
        1536
      ]
    },
    {
      "id": 1670,
      "type": "Image Resize",
      "pos": [
        -7,
        3332
      ],
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 116,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1267
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1220
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Image Resize"
      },
      "widgets_values": [
        "rescale",
        "true",
        "lanczos",
        2,
        1024,
        1536
      ]
    },
    {
      "id": 1307,
      "type": "GetNode",
      "pos": [
        -1468,
        1404
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 46,
      "mode": 0,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            1161
          ],
          "slot_index": 0
        }
      ],
      "title": "Get_upscalerModel",
      "properties": {},
      "widgets_values": [
        "upscalerModel"
      ]
    },
    {
      "id": 1722,
      "type": "DSINE-NormalMapPreprocessor",
      "pos": [
        -788,
        3313
      ],
      "size": {
        "0": 347.3636169433594,
        "1": 160.29010009765625
      },
      "flags": {},
      "order": 110,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1253
        },
        {
          "name": "resolution",
          "type": "INT",
          "link": 1273,
          "widget": {
            "name": "resolution"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1266
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DSINE-NormalMapPreprocessor"
      },
      "widgets_values": [
        60,
        5,
        1024
      ]
    },
    {
      "id": 1732,
      "type": "ImageCrop",
      "pos": [
        -382,
        3328
      ],
      "size": {
        "0": 315,
        "1": 130
      },
      "flags": {},
      "order": 113,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1266
        },
        {
          "name": "width",
          "type": "INT",
          "link": 1268,
          "widget": {
            "name": "width"
          }
        },
        {
          "name": "height",
          "type": "INT",
          "link": 1269,
          "widget": {
            "name": "height"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1267
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCrop"
      },
      "widgets_values": [
        512,
        512,
        0,
        0
      ]
    },
    {
      "id": 1727,
      "type": "GetImageSize+",
      "pos": [
        -1334,
        3135
      ],
      "size": {
        "0": 210,
        "1": 66
      },
      "flags": {},
      "order": 93,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1257
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            1268,
            1270
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            1269,
            1271
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "count",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSize+"
      }
    },
    {
      "id": 1733,
      "type": "ImpactMinMax",
      "pos": [
        -1074,
        3060
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 104,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "type": "*",
          "link": 1270
        },
        {
          "name": "b",
          "type": "*",
          "link": 1271
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1272,
            1273
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImpactMinMax"
      },
      "widgets_values": [
        false
      ]
    },
    {
      "id": 1740,
      "type": "INPAINT_LoadInpaintModel",
      "pos": [
        -2750.0415478623772,
        3401.327397597113
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 47,
      "mode": 0,
      "outputs": [
        {
          "name": "INPAINT_MODEL",
          "type": "INPAINT_MODEL",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "INPAINT_LoadInpaintModel"
      },
      "widgets_values": [
        "big-lama.pt"
      ]
    },
    {
      "id": 1075,
      "type": "LoraLoaderBlockWeight //Inspire",
      "pos": [
        -2805,
        3609
      ],
      "size": {
        "0": 613.2000122070312,
        "1": 379.9999694824219
      },
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": null
        },
        {
          "name": "strength_model",
          "type": "FLOAT",
          "link": null,
          "widget": {
            "name": "strength_model"
          }
        },
        {
          "name": "strength_clip",
          "type": "FLOAT",
          "link": null,
          "widget": {
            "name": "strength_clip"
          }
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": [],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "populated_vector",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "title": "$map:{\"lora_name\":\"productLora.id\", \"block_vector\": \"productLora.blocks\"}",
      "properties": {
        "Node name for S&R": "LoraLoaderBlockWeight //Inspire"
      },
      "widgets_values": [
        "All",
        "sd_xl_offset_example-lora_1.0.safetensors",
        1,
        1,
        false,
        0,
        "fixed",
        2,
        2,
        "Preset",
        "0,0,0,0,0,0,B,B,B,0,0,0",
        false
      ]
    },
    {
      "id": 1153,
      "type": "ImageCompositeMasked",
      "pos": [
        2643,
        642
      ],
      "size": {
        "0": 315,
        "1": 146
      },
      "flags": {
        "collapsed": false
      },
      "order": 114,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "IMAGE",
          "link": 1230
        },
        {
          "name": "source",
          "type": "IMAGE",
          "link": 852
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 1274,
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1231,
            1232
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"x\":\"offset.x\", \"y\":\"offset.y\"}",
      "properties": {
        "Node name for S&R": "ImageCompositeMasked"
      },
      "widgets_values": [
        0,
        0,
        false
      ]
    },
    {
      "id": 1671,
      "type": "SaveImage",
      "pos": [
        502,
        2966
      ],
      "size": {
        "0": 512.4000244140625,
        "1": 270.0000915527344
      },
      "flags": {},
      "order": 115,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 1219
        }
      ],
      "title": "$map:{\"saveImage\":true, \"folder\":\"maps\", \"type\": \"depth-map\"}",
      "properties": {},
      "widgets_values": [
        "depthMap"
      ]
    },
    {
      "id": 1672,
      "type": "SaveImage",
      "pos": [
        471,
        3320
      ],
      "size": {
        "0": 504,
        "1": 270.00006103515625
      },
      "flags": {},
      "order": 118,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 1220
        }
      ],
      "title": "$map:{\"saveImage\":true, \"folder\":\"maps\",\"type\":\"normal-map\"}",
      "properties": {},
      "widgets_values": [
        "normalMap"
      ]
    },
    {
      "id": 1745,
      "type": "LayerMask: MaskEdgeUltraDetail V2",
      "pos": [
        -2994.6830487355137,
        4123.818886953581
      ],
      "size": {
        "0": 315,
        "1": 294
      },
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": [],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LayerMask: MaskEdgeUltraDetail V2"
      },
      "widgets_values": [
        "VITMatte",
        0,
        0,
        0.75,
        6,
        6,
        0.01,
        0.99,
        "cuda",
        2
      ]
    },
    {
      "id": 1746,
      "type": "SAMModelLoader (segment anything)",
      "pos": [
        -3404.6830487355137,
        4157.818886953581
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 50,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMModelLoader (segment anything)"
      },
      "widgets_values": [
        "sam_vit_h (2.56GB)"
      ]
    },
    {
      "id": 13,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -3631,
        382
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {
        "pinned": false
      },
      "order": 51,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            869,
            1041
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            1042
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            1043
          ],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "title": "$map:{\"ckpt_name\":\"sdCheckpoint\"}",
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "realvisxlV40_v40LightningBakedvae.safetensors"
      ]
    },
    {
      "id": 1364,
      "type": "Constant Number",
      "pos": [
        -2626,
        -1280
      ],
      "size": {
        "0": 260.3999938964844,
        "1": 122
      },
      "flags": {
        "collapsed": false
      },
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "number_as_text",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "number_as_text"
          }
        }
      ],
      "outputs": [
        {
          "name": "NUMBER",
          "type": "NUMBER",
          "links": null,
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        },
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1148
          ],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "title": "$map:{\"number\":\"sampler.steps\"}",
      "properties": {
        "Node name for S&R": "Constant Number"
      },
      "widgets_values": [
        "integer",
        10,
        ""
      ]
    },
    {
      "id": 1344,
      "type": "Float",
      "pos": [
        -2604.558601768729,
        -1084.5272598854078
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "pinned": false
      },
      "order": 53,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1118
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"value\":\"cfgScale\"}",
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 364,
      "type": "UpscaleModelLoader",
      "pos": [
        -3544,
        2448
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 54,
      "mode": 0,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            1092
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"model_name\": \"upscalerModel\"}",
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "4x-UltraSharp.pth"
      ]
    },
    {
      "id": 1664,
      "type": "Automatic CFG",
      "pos": [
        -686,
        1037
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {
        "collapsed": true
      },
      "order": 80,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1210
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1211,
            1275
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Automatic CFG"
      },
      "widgets_values": [
        true,
        true
      ]
    },
    {
      "id": 1747,
      "type": "PerturbedAttentionGuidance",
      "pos": [
        -281,
        1067
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 100,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1275
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1276
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "PerturbedAttentionGuidance"
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 1665,
      "type": "PerturbedAttentionGuidance",
      "pos": [
        -283,
        990
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 99,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1211
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1213
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "PerturbedAttentionGuidance"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 1748,
      "type": "Note",
      "pos": [
        -419.3026595727857,
        739.5216386358256
      ],
      "size": {
        "0": 397.3293762207031,
        "1": 139.42916870117188
      },
      "flags": {},
      "order": 55,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Too high of a PAG causes too much aging and 'ab' line details"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 1197,
      "type": "LoadImageMask",
      "pos": [
        -3894,
        -1519
      ],
      "size": {
        "0": 315,
        "1": 318.00006103515625
      },
      "flags": {},
      "order": 56,
      "mode": 0,
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            1054
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"image\":\"highResMaskImage\"}",
      "properties": {
        "Node name for S&R": "LoadImageMask"
      },
      "widgets_values": [
        "example.png",
        "alpha",
        "image"
      ]
    },
    {
      "id": 359,
      "type": "LoadImage",
      "pos": [
        -3900.4434337382145,
        -1135.806207123052
      ],
      "size": {
        "0": 315,
        "1": 314.00006103515625
      },
      "flags": {
        "collapsed": false
      },
      "order": 57,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1017,
            1183
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "slot_index": 1
        }
      ],
      "title": "$map:{\"image\":\"highResInputImage\"}",
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 1742,
      "type": "CustomLoadImageMask",
      "pos": [
        2053,
        677
      ],
      "size": {
        "0": 315,
        "1": 342
      },
      "flags": {},
      "order": 58,
      "mode": 0,
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            1274
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"image\":\"highResMaskImage\"}",
      "properties": {
        "Node name for S&R": "CustomLoadImageMask"
      },
      "widgets_values": [
        "example.png",
        "alpha",
        1,
        "image"
      ]
    },
    {
      "id": 1458,
      "type": "CLIPTextEncode",
      "pos": [
        -1060,
        1717
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 74,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1164
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            1205,
            1206
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"text\":\"positivePrompt\"}",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 1460,
      "type": "CLIPTextEncode",
      "pos": [
        -1039,
        1999
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {
        "pinned": false
      },
      "order": 76,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1174
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            1171
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"text\":\"concatPrompt1\"}",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 1459,
      "type": "CLIPTextEncode",
      "pos": [
        -993,
        2235
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 75,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 1165,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            1167,
            1192
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "$map:{\"text\":\"negativePrompt\"}",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 1361,
      "type": "LoadImage",
      "pos": [
        -2327,
        1793
      ],
      "size": {
        "0": 315,
        "1": 314.0000305175781
      },
      "flags": {},
      "order": 59,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1169,
            1253,
            1257,
            1262
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "title": "$map:{\"image\":\"inputImage\"}",
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    }
  ],
  "links": [
    [
      852,
      1147,
      0,
      1153,
      1,
      "IMAGE"
    ],
    [
      869,
      13,
      0,
      1159,
      0,
      "*"
    ],
    [
      939,
      1199,
      0,
      1206,
      0,
      "IMAGE"
    ],
    [
      1017,
      359,
      0,
      1247,
      0,
      "*"
    ],
    [
      1020,
      1249,
      0,
      1147,
      0,
      "*"
    ],
    [
      1024,
      285,
      0,
      1253,
      0,
      "*"
    ],
    [
      1027,
      1255,
      0,
      1137,
      0,
      "IMAGE"
    ],
    [
      1030,
      1221,
      0,
      1258,
      0,
      "*"
    ],
    [
      1031,
      1221,
      1,
      1259,
      0,
      "*"
    ],
    [
      1032,
      1221,
      2,
      1260,
      0,
      "*"
    ],
    [
      1034,
      1262,
      0,
      1222,
      0,
      "MODEL"
    ],
    [
      1036,
      1263,
      0,
      1222,
      1,
      "CLIP"
    ],
    [
      1041,
      13,
      0,
      1270,
      0,
      "*"
    ],
    [
      1042,
      13,
      1,
      1271,
      0,
      "*"
    ],
    [
      1043,
      13,
      2,
      1272,
      0,
      "*"
    ],
    [
      1051,
      1274,
      0,
      454,
      0,
      "MODEL"
    ],
    [
      1052,
      1275,
      0,
      454,
      1,
      "CLIP"
    ],
    [
      1054,
      1197,
      0,
      1199,
      0,
      "MASK"
    ],
    [
      1055,
      1206,
      0,
      1276,
      0,
      "*"
    ],
    [
      1065,
      26,
      0,
      1284,
      0,
      "*"
    ],
    [
      1067,
      272,
      0,
      1286,
      0,
      "*"
    ],
    [
      1069,
      254,
      0,
      1288,
      0,
      "*"
    ],
    [
      1071,
      252,
      0,
      1290,
      0,
      "*"
    ],
    [
      1075,
      218,
      0,
      1292,
      0,
      "*"
    ],
    [
      1077,
      454,
      0,
      1294,
      0,
      "*"
    ],
    [
      1078,
      454,
      1,
      1295,
      0,
      "*"
    ],
    [
      1083,
      296,
      0,
      1298,
      0,
      "*"
    ],
    [
      1086,
      1222,
      0,
      1300,
      0,
      "*"
    ],
    [
      1087,
      1222,
      1,
      1301,
      0,
      "*"
    ],
    [
      1092,
      364,
      0,
      1306,
      0,
      "*"
    ],
    [
      1096,
      1230,
      0,
      1308,
      0,
      "*"
    ],
    [
      1118,
      1344,
      0,
      1345,
      0,
      "*"
    ],
    [
      1122,
      1349,
      0,
      1350,
      0,
      "*"
    ],
    [
      1130,
      1359,
      0,
      454,
      2,
      "FLOAT"
    ],
    [
      1131,
      1360,
      0,
      454,
      3,
      "FLOAT"
    ],
    [
      1134,
      1252,
      0,
      1127,
      0,
      "FACERESTORE_MODEL"
    ],
    [
      1147,
      1363,
      3,
      1334,
      0,
      "INT"
    ],
    [
      1148,
      1364,
      2,
      1343,
      0,
      "INT"
    ],
    [
      1157,
      1351,
      0,
      1455,
      10,
      "FLOAT"
    ],
    [
      1158,
      1348,
      0,
      1455,
      9,
      "FLOAT"
    ],
    [
      1159,
      1362,
      0,
      1455,
      11,
      "INT"
    ],
    [
      1160,
      1339,
      0,
      1455,
      8,
      "INT"
    ],
    [
      1161,
      1307,
      0,
      1455,
      5,
      "UPSCALE_MODEL"
    ],
    [
      1162,
      1456,
      0,
      1455,
      4,
      "VAE"
    ],
    [
      1164,
      1457,
      0,
      1458,
      0,
      "CLIP"
    ],
    [
      1165,
      1457,
      0,
      1459,
      0,
      "CLIP"
    ],
    [
      1167,
      1459,
      0,
      1455,
      3,
      "CONDITIONING"
    ],
    [
      1169,
      1361,
      0,
      1455,
      0,
      "IMAGE"
    ],
    [
      1171,
      1460,
      0,
      1461,
      1,
      "CONDITIONING"
    ],
    [
      1173,
      1461,
      0,
      1455,
      2,
      "CONDITIONING"
    ],
    [
      1174,
      1457,
      0,
      1460,
      0,
      "CLIP"
    ],
    [
      1175,
      1462,
      0,
      1463,
      0,
      "*"
    ],
    [
      1176,
      1464,
      0,
      1455,
      12,
      "FLOAT"
    ],
    [
      1179,
      1632,
      0,
      1455,
      6,
      "INT"
    ],
    [
      1180,
      1633,
      0,
      1455,
      7,
      "INT"
    ],
    [
      1181,
      1634,
      0,
      1635,
      0,
      "INT,FLOAT"
    ],
    [
      1182,
      1634,
      1,
      1636,
      0,
      "INT,FLOAT"
    ],
    [
      1183,
      359,
      0,
      1634,
      0,
      "IMAGE"
    ],
    [
      1184,
      1636,
      0,
      1629,
      0,
      "INT"
    ],
    [
      1186,
      1635,
      0,
      1628,
      0,
      "INT"
    ],
    [
      1190,
      1638,
      0,
      1637,
      7,
      "SAM_MODEL"
    ],
    [
      1192,
      1459,
      0,
      1637,
      5,
      "CONDITIONING"
    ],
    [
      1193,
      1456,
      0,
      1637,
      3,
      "VAE"
    ],
    [
      1194,
      1348,
      0,
      1637,
      11,
      "FLOAT"
    ],
    [
      1195,
      1362,
      0,
      1637,
      10,
      "INT"
    ],
    [
      1196,
      1457,
      0,
      1637,
      2,
      "CLIP"
    ],
    [
      1198,
      1640,
      3,
      1637,
      12,
      "INT"
    ],
    [
      1200,
      1641,
      0,
      1642,
      2,
      "INT"
    ],
    [
      1201,
      1127,
      0,
      1642,
      0,
      "IMAGE"
    ],
    [
      1203,
      1642,
      0,
      1255,
      0,
      "IMAGE"
    ],
    [
      1204,
      1644,
      0,
      1641,
      0,
      "BOOLEAN"
    ],
    [
      1205,
      1458,
      0,
      1637,
      4,
      "CONDITIONING"
    ],
    [
      1206,
      1458,
      0,
      1461,
      0,
      "CONDITIONING"
    ],
    [
      1207,
      1639,
      0,
      1662,
      0,
      "*"
    ],
    [
      1208,
      1663,
      0,
      1637,
      6,
      "BBOX_DETECTOR"
    ],
    [
      1210,
      1305,
      0,
      1664,
      0,
      "MODEL"
    ],
    [
      1211,
      1664,
      0,
      1665,
      0,
      "MODEL"
    ],
    [
      1213,
      1665,
      0,
      1637,
      1,
      "MODEL"
    ],
    [
      1219,
      1669,
      0,
      1671,
      0,
      "IMAGE"
    ],
    [
      1220,
      1670,
      0,
      1672,
      0,
      "IMAGE"
    ],
    [
      1229,
      1455,
      0,
      1637,
      0,
      "IMAGE"
    ],
    [
      1230,
      1637,
      0,
      1153,
      0,
      "IMAGE"
    ],
    [
      1231,
      1153,
      0,
      1127,
      1,
      "IMAGE"
    ],
    [
      1232,
      1153,
      0,
      1642,
      1,
      "IMAGE"
    ],
    [
      1253,
      1361,
      0,
      1722,
      0,
      "IMAGE"
    ],
    [
      1257,
      1361,
      0,
      1727,
      0,
      "IMAGE"
    ],
    [
      1262,
      1361,
      0,
      1728,
      0,
      "IMAGE"
    ],
    [
      1263,
      1728,
      0,
      1669,
      0,
      "IMAGE"
    ],
    [
      1266,
      1722,
      0,
      1732,
      0,
      "IMAGE"
    ],
    [
      1267,
      1732,
      0,
      1670,
      0,
      "IMAGE"
    ],
    [
      1268,
      1727,
      0,
      1732,
      1,
      "INT"
    ],
    [
      1269,
      1727,
      1,
      1732,
      2,
      "INT"
    ],
    [
      1270,
      1727,
      0,
      1733,
      0,
      "*"
    ],
    [
      1271,
      1727,
      1,
      1733,
      1,
      "*"
    ],
    [
      1272,
      1733,
      0,
      1728,
      1,
      "INT"
    ],
    [
      1273,
      1733,
      0,
      1722,
      1,
      "INT"
    ],
    [
      1274,
      1742,
      0,
      1153,
      2,
      "MASK"
    ],
    [
      1275,
      1664,
      0,
      1747,
      0,
      "MODEL"
    ],
    [
      1276,
      1747,
      0,
      1455,
      1,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "title": "Upscaling",
      "bounding": [
        -1707,
        450,
        2181,
        2094
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "retain cache from other workflow",
      "bounding": [
        -3705,
        3129,
        1423,
        765
      ],
      "color": "#444",
      "font_size": 24
    },
    {
      "title": "inputs",
      "bounding": [
        -3966,
        -1659,
        1951,
        1517
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "Group",
      "bounding": [
        -3703,
        271,
        1241,
        2656
      ],
      "color": "#8A8",
      "font_size": 24
    },
    {
      "title": "FaceFix",
      "bounding": [
        1946,
        1106,
        1242,
        603
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "Face Detailer",
      "bounding": [
        841,
        752,
        831,
        1139
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": " Generate maps for relighting",
      "bounding": [
        -1360,
        2722,
        2424,
        916
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "Image Layover",
      "bounding": [
        2003,
        456,
        987,
        404
      ],
      "color": "#3f789e",
      "font_size": 24
    }
  ],
  "config": {},
  "extra": {
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "ds": {
      "scale": 0.740024994425817,
      "offset": {
        "0": 2950.4908103651687,
        "1": -1357.8421719031967
      }
    }
  },
  "version": 0.4
}